{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// const loader = document.getElementById('loader');\n\nfunction handleFormSubmit(event) {\n    event.preventDefault();\n    // loader.style.display = 'block';\n    const apiKey = '42334631-07f239856d3b6a49db441bfb9';\n    const searchPicture = document.getElementById(\"searchRequest\").value.trim();\n    if (searchPicture === \"\") {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Please enter a search query.'\n        });\n        return false;\n    }\n\n    const params = new URLSearchParams({\n        key: apiKey,\n        q: searchPicture,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    });\n\n    fetch(`https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(searchPicture)}${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Failed to fetch images');\n            }\n            return response.json();\n        })\n\n        .then(data => {\n            const gallery = document.getElementById('gallery');\n            gallery.innerHTML = '';\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    title: 'Info',\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n            } else {\n                const galleryMarkup = data.hits.map(image => {\n                    return `<a href=\"${image.largeImageURL}\">\n<img src=\"${image.previewURL}\" alt=\"${image.tags}\">\n<div class=\"image-caption\">\n<span>Likes: ${image.likes}</span>\n<span>Views: ${image.views}</span>\n<span>Comments: ${image.comments}</span>\n<span>Downloads: ${image.downloads}</span>\n</div>\n                    </a>`;\n                }).join('');\n                gallery.innerHTML = galleryMarkup;\n                new SimpleLightbox('.gallery a');\n            }\n            // loader.style.display = 'none';\n        })\n        .catch(error => {\n            console.error('Error fetching images:', error);\n            iziToast.error({\n                title: 'Error',\n                message: 'Failed to fetch images. Please try again later.',\n            });\n            // loader.style.display = 'none';\n        });\n    event.currentTarget.reset()\n    return false;\n}\n\nconst form = document.getElementById('searchForm');\nform.addEventListener('submit', handleFormSubmit);","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport './js/pixabay-api.js';\nimport './js/render-functions.js';\nexport function clearGallery() {\n    const gallery = document.getElementById('gallery');\n    gallery.innerHTML = '';\n}\nclearGallery();"],"names":["handleFormSubmit","event","apiKey","searchPicture","iziToast","params","response","data","gallery","galleryMarkup","image","SimpleLightbox","error","form","clearGallery"],"mappings":"6vBAMA,SAASA,EAAiBC,EAAO,CAC7BA,EAAM,eAAc,EAEpB,MAAMC,EAAS,qCACTC,EAAgB,SAAS,eAAe,eAAe,EAAE,MAAM,OACrE,GAAIA,IAAkB,GAClB,OAAAC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8BACrB,CAAS,EACM,GAGX,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,aAAM,gCAAgCD,CAAM,MAAM,mBAAmBC,CAAa,CAAC,GAAGE,CAAM,EAAE,EACzF,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,OAAOA,EAAS,MAC5B,CAAS,EAEA,KAAKC,GAAQ,CACV,MAAMC,EAAU,SAAS,eAAe,SAAS,EAEjD,GADAA,EAAQ,UAAY,GAChBD,EAAK,KAAK,SAAW,EACrBH,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EAC7B,CAAiB,MACE,CACH,MAAMK,EAAgBF,EAAK,KAAK,IAAIG,GACzB,YAAYA,EAAM,aAAa;AAAA,YAC9CA,EAAM,UAAU,UAAUA,EAAM,IAAI;AAAA;AAAA,eAEjCA,EAAM,KAAK;AAAA,eACXA,EAAM,KAAK;AAAA,kBACRA,EAAM,QAAQ;AAAA,mBACbA,EAAM,SAAS;AAAA;AAAA,yBAGjB,EAAE,KAAK,EAAE,EACVF,EAAQ,UAAYC,EACpB,IAAIE,EAAe,YAAY,CAClC,CAEb,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CR,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDACzB,CAAa,CAEb,CAAS,EACLH,EAAM,cAAc,MAAO,EACpB,EACX,CAEA,MAAMY,EAAO,SAAS,eAAe,YAAY,EACjDA,EAAK,iBAAiB,SAAUb,CAAgB,ECpEzC,SAASc,GAAe,CAC3B,MAAMN,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,EACxB,CACAM,EAAc"}